(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var l in n)e.o(n,l)&&!e.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:n[l]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.plugins,n=window.wp.url,l=window.wp.apiFetch;var a=e.n(l);const o=window.React,r=window.wp.editPost,s=window.wp.components,i=window.wp.element,c=window.wp.data,u=window.wp.i18n,g=e=>bogo.availableLanguages[e]?bogo.availableLanguages[e].name:e;(0,t.registerPlugin)("bogo-language-panel",{render:function(){const e=(0,c.useSelect)((e=>Object.assign({},e("core/editor").getCurrentPost(),bogo.currentPost)));if(-1==bogo.localizablePostTypes.indexOf(e.type))return(0,o.createElement)(o.Fragment,null);const[t,n]=(0,i.useState)(e.translations);return(0,o.createElement)(r.PluginDocumentSettingPanel,{name:"bogo-language-panel",title:(0,u.__)("Language","bogo"),className:"bogo-language-panel"},(0,o.createElement)((()=>(0,o.createElement)(s.PanelRow,null,(0,o.createElement)("span",null,(0,u.__)("Language","bogo")),(0,o.createElement)("div",null,g(e.locale)))),null),(0,o.createElement)((()=>{const e=[];return Object.entries(t).forEach((([t,n])=>{n.editLink&&n.postTitle?e.push((0,o.createElement)("li",{key:t},(0,o.createElement)(s.ExternalLink,{href:n.editLink},n.postTitle),(0,o.createElement)("br",null),(0,o.createElement)("em",null,g(t)))):n.postTitle&&e.push((0,o.createElement)("li",{key:t},n.postTitle,(0,o.createElement)("br",null),(0,o.createElement)("em",null,g(t))))})),(0,o.createElement)(s.PanelRow,null,(0,o.createElement)("span",null,(0,u.__)("Translations","bogo")),(0,o.createElement)((e=>e.listItems.length?(0,o.createElement)("ul",null,e.listItems):(0,o.createElement)("em",null,(0,u.__)("None","bogo"))),{listItems:e}))}),null),(0,o.createElement)((()=>{const l=[];return Object.entries(t).forEach((([r,i])=>{i.postId||l.push((0,o.createElement)("li",{key:r},(0,o.createElement)(s.Button,{isDefault:!0,onClick:()=>{(l=>{const o={...t};o[l]={creating:!0},n(o),a()({path:`/bogo/v1/posts/${e.id}/translations/${l}`,method:"POST"}).then((e=>{const a={...t};a[l]={postId:e[l].id,postTitle:e[l].title.raw,editLink:e[l].edit_link,creating:!1},n(a),(0,c.dispatch)("core/notices").createInfoNotice((0,u.__)("Translation post created.","bogo"),{isDismissible:!0,type:"snackbar",speak:!0,actions:[{url:a[l].editLink,label:(0,u.__)("Edit Post","bogo")}]})}))})(r)}},(0,u.sprintf)(/* translators: %s: Language name. */ /* translators: %s: Language name. */
(0,u.__)("Add %s translation","bogo"),g(r))),i.creating&&(0,o.createElement)(s.Spinner,null)))})),l.length<1||"auto-draft"==e.status?(0,o.createElement)(o.Fragment,null):(0,o.createElement)(s.PanelRow,null,(0,o.createElement)("ul",null,l))}),null))},icon:"translation"}),a().use(((e,t)=>{const l=bogo.currentPost.lang;return l&&("string"!=typeof e.url||(0,n.hasQueryArg)(e.url,"lang")||(e.url=(0,n.addQueryArgs)(e.url,{lang:l})),"string"!=typeof e.path||(0,n.hasQueryArg)(e.path,"lang")||(e.path=(0,n.addQueryArgs)(e.path,{lang:l}))),t(e,t)}))})();